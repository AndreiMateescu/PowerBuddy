<div fxFlex>
  <form
    fxLayout="column"
    fxLayoutAlign="start center"
    [formGroup]="form">
    <mat-form-field>
      <mat-label>Name</mat-label>
      <input
        matInput
        [formControl]="name"
        type="text"
        [required]="true"
        [maxlength]="128">
      <mat-error *ngIf="formControlHasError(name, 'required')">Field Required</mat-error>
      <mat-error *ngIf="formControlHasError(name, 'maxlength')">
        Field must be at most 128 characters long.
      </mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Consumption (W/h)</mat-label>
      <input
        matInput
        [formControl]="consumptionWh"
        type="number"
        [min]="0.01"
        [max]="99999">
      <mat-error *ngIf="formControlHasError(consumptionWh, 'required')">Field Required.</mat-error>
      <mat-error *ngIf="formControlHasError(consumptionWh, 'min')">Must be at least 0.01.</mat-error>
      <mat-error *ngIf="formControlHasError(consumptionWh, 'max')">Must be at most 99999.</mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Running Hours Per Day</mat-label>
      <input
        matInput
        [formControl]="runningHoursPerDay"
        type="number"
        [required]="true"
        [min]="1"
        [max]="24">
      <mat-error *ngIf="formControlHasError(runningHoursPerDay, 'required')">Field Required</mat-error>
      <mat-error *ngIf="formControlHasError(runningHoursPerDay, 'min')">Must be at least 1.</mat-error>
      <mat-error *ngIf="formControlHasError(runningHoursPerDay, 'max')">Must be at most 24.</mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Count</mat-label>
      <input
        matInput
        [formControl]="count"
        type="number"
        [required]="true"
        [min]="1"
        [max]="999">
      <mat-error *ngIf="formControlHasError(count, 'required')">Field Required</mat-error>
      <mat-error *ngIf="formControlHasError(count, 'min')">Must be at least 1.</mat-error>
      <mat-error *ngIf="formControlHasError(count, 'max')">Must be at most 999.</mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Category</mat-label>
      <mat-select
        [formControl]="applianceCategoryId"
        name="applianceCategory">
        <mat-option
          *ngFor="let applianceCategory of applianceCategories"
          [value]="applianceCategory.id">
          <div
            fxLayout="row"
            fxLayoutAlign="start center">
            <span>{{applianceCategory.name}}</span>
            <mat-icon
              aria-hidden="false"
              aria-label="Appliance icon"
              fontIcon="{{applianceCategory.iconName}}">
            </mat-icon>
          </div>
        </mat-option>
      </mat-select>
      <mat-error *ngIf="formControlHasError(applianceCategoryId, 'required')">Field Required</mat-error>
    </mat-form-field>
    <section>
      <mat-slide-toggle
        formControlName="active"
        color="primary"
        [checked]="active.value">
        Active
      </mat-slide-toggle>
      <mat-error *ngIf="formControlHasError(active, 'required')">Field Required</mat-error>
    </section>
  </form>
</div>
